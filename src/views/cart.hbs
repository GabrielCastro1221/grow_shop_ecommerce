<link rel="stylesheet" href="/css/cart.css">
<link rel="stylesheet" href="/css/login.css">
<section id="cart-header">
    <h2>#let´s_talk</h2>
    <p>LEAVE MESSAGE, We love to hear from you! </p>
</section>

<section id="cart" class="section-p1">
    <table width="100%">
        <thead>
            <tr>
                <td>Quitar</td>
                <td>Foto</td>
                <td>Producto</td>
                <td>Precio</td>
                <td>Cantidad</td>
                <td>Subtotal</td>
            </tr>
        </thead>
        <tbody>
            {{#each cart.products}}
            <tr>
                <td>
                    <a href="#">
                        <i class="far fa-times-circle delete-btn" style="color: red; cursor: pointer;"
                            data-cart-id="{{../cart._id}}" data-product-id="{{this.product._id}}"></i>
                    </a>
                </td>
                <td>
                    <img src="{{this.product.image}}" alt="">
                </td>
                <td>{{this.product.title}}</td>
                <td>${{this.product.price}}</td>
                <td>
                    <input type="number" value="{{this.quantity}}">
                </td>
                <td>${{multiply this.quantity this.product.price}}</td>
            </tr>
            {{/each}}
        </tbody>
    </table>

    <div class="cart__actions">
        <a href="#" class="btn flex btn--md btn--empty-cart" data-cart-id="{{cart._id}}"
            aria-label="Vaciar todos los productos del carrito">
            <i class="fi fi-rr-trash"></i> Vaciar carrito
        </a>
        <a href="/tienda" class="btn flex btn--md" aria-label="Continuar comprando en la tienda">
            <i class="fi fi-rr-basket-shopping-simple"></i> Continuar comprando
        </a>
    </div>
</section>

<section id="cart-add" class="section-p1">
    <div id="coupon">
        <h3 style="color: #088178;">Ciudad del destino</h3>
        <form class="form grid" aria-labelledby="cart-title">
            <div class="label label__city">
                <label for="city">Selecciona tu ciudad:</label>
                <select class="select-field" name="city" id="city" required
                    aria-label="Selecciona la ciudad de envío"></select>
            </div>
        </form>
    </div>
    
    <div id="subtotal">
        <h3 style="color: #088178;">Total a Pagar</h3>
        <table>
            <tr>
                <td>Subtotal</td>
                <td id="subtotal-amount">$ {{cartSubtotal cart.products}}</td>
            </tr>
            <tr>
                <td>Costo del envio</td>
                <td id="shipping-amount">$ 0</td>
            </tr>
            <tr>
                <td><strong>Total</strong></td>
                <td><strong id="total-amount">$ {{cartSubtotal cart.products}}</strong></td>
            </tr>
        </table>
        <button class="normal">Generar orden de compra</button>
    </div>
</section>

<script src="/js/cart.js"></script>
<script src="/js/ticket.js"></script>
<script src="/js/shipping.js"></script>